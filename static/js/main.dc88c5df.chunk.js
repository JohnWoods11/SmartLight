(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,function(e,t,n){e.exports={schedule:"Schedule_schedule__-XzTx",scheduleElement:"Schedule_scheduleElement__1pJ7p"}},function(e,t,n){e.exports={selectionContainer:"Room_selectionContainer__2lB_T",sunThemeContainer:"Room_sunThemeContainer__1HdDz",selectionbox:"Room_selectionbox__9QKZm",lightContainer:"Room_lightContainer__1MYvc",light:"Room_light__2NCC1"}},function(e,t,n){e.exports={themes:"Themes_themes__32CwU",listContainer:"Themes_listContainer__2Hfo9",list:"Themes_list__3MI9J"}},function(e,t,n){e.exports={themeinput:"ThemeInput_themeinput__KJxqL",inputbox:"ThemeInput_inputbox__1rQn-",button:"ThemeInput_button__3Kvkh"}},function(e,t,n){e.exports={slide:"IntensitySlide_slide__2SZ_f"}},function(e,t,n){e.exports={selectbox:"LightSelectBox_selectbox__3K8br",header:"LightSelectBox_header__1aNOL"}},function(e,t,n){e.exports={sun:"Sun_sun__2CdqL",container:"Sun_container__3akxD"}},,,,,,function(e,t,n){e.exports={light:"Light_light__1RnwO"}},function(e,t,n){e.exports={switch:"LightSwitch_switch__3kwiB"}},function(e,t,n){e.exports={colorselect:"ColorSelect_colorselect__3KFfE"}},,,function(e,t,n){e.exports=n(24)},,,,,function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(10),c=n.n(s),l=n(1),o=n(11),r=n(12),u=n(17),h=n(13),m=n(18),d=n(14),g=n.n(d);var C=function(e){var t=e.intensity/100*40,n=e.is_on,i=e.colour;return n||(i="white"),a.a.createElement("button",{className:g.a.light,style:{backgroundColor:i,height:t,width:t},onClick:function(t){e.emitClicked?e.emitClicked():console.log("emitClicked is null ".concat(e.emitClicked))}})},v=n(4),f=n.n(v),_=n(2),S=n.n(_);var k=function(e){return a.a.createElement("div",{className:S.a.schedule},a.a.createElement("input",{className:S.a.scheduleElement,type:"time",onChange:function(t){e.startEmitChanged?e.startEmitChanged(t):console.log("startEmitChanged is null ".concat(e.startEmitChanged))}}),a.a.createElement("input",{className:S.a.scheduleElement,type:"time",onChange:function(t){e.endEmitChanged?e.endEmitChanged(t):console.log("endEmitChanged is null ".concat(e.EndemitChanged))}}),a.a.createElement("button",{className:S.a.scheduleElement,onClick:function(t){e.emitClicked?e.emitClicked():console.log("emitClicked is null ".concat(e.emitClicked))}},"schedule theme"))};var p=function(e){var t=e.themes.map((function(e,t){return a.a.createElement("option",{key:t,value:t},JSON.parse(e)[0])}));return a.a.createElement("div",{className:f.a.themes},a.a.createElement("div",{className:f.a.listContainer},a.a.createElement("select",{className:f.a.list,size:"5",onChange:function(t){e.emitChanged?e.emitChanged(t):console.log("emitChanged is null ".concat(e.emitChanged))}},t),a.a.createElement("button",{onClick:function(t){e.emitClicked?e.emitClicked():console.log("emitClicked is null ".concat(e.emitClicked))}},"Remove Theme")),a.a.createElement(k,{startEmitChanged:e.startEmitChanged,endEmitChanged:e.endEmitChanged,emitClicked:e.scheduleEmitClicked}))},E=n(5),y=n.n(E);var b=function(e){return a.a.createElement("div",{className:y.a.themeinput},a.a.createElement("input",{className:y.a.inputbox,type:"text",value:e.input,onChange:function(t){e.emitChanged?e.emitChanged(t):console.log("emitChanged is null ".concat(e.emitChanged))}}),a.a.createElement("button",{className:y.a.button,onClick:function(t){e.emitClicked?e.emitClicked(t):console.log("emitClicked is null ".concat(e.emitClicked))}},"Add"))};var O=function(e){return a.a.createElement("p",null,("0"+e.hour).slice(-2),":",("0"+e.min).slice(-2))},x=n(3),N=n.n(x),L=n(15),j=n.n(L);var T=function(e){var t;return t=e.is_on?"on":"off",a.a.createElement("button",{className:j.a.switch,onClick:function(t){e.emitClicked?e.emitClicked():console.log("emitClicked is null ".concat(e.emitClicked))}},t)},I=n(16),w=n.n(I);var J=function(e){return a.a.createElement("input",{type:"color",value:e.colour,className:w.a.colorselect,onChange:function(t){e.emitChanged?e.emitChanged(t):console.log("emitChanged is null ".concat(e.emitChanged))}})},B=n(6),H=n.n(B);var M=function(e){return a.a.createElement("div",{className:H.a.input},a.a.createElement("input",{className:H.a.slide,name:"luminosity",min:"0",max:"100",value:e.intensity,onChange:function(t){e.emitChanged?e.emitChanged(t):console.log("emitChanged is null ".concat(e.emitChanged))},type:"range"}))},R=n(7),D=n.n(R);var K=function(e){var t=a.a.createElement(T,{is_on:e.is_on,emitClicked:function(){e.switchSlotClicked()}}),n=a.a.createElement(J,{colour:e.color,emitChanged:function(t){e.colorSlotChanged(t)}}),i=a.a.createElement(M,{intensity:e.intensity,emitChanged:function(t){return e.intensitySlotChanged(t)}});return a.a.createElement("div",{className:D.a.selectbox},a.a.createElement("h4",{className:D.a.header},"Light ",e.id+1," ",t),a.a.createElement("div",null,"Colour: ",n),a.a.createElement("div",null,"Intensity: ",i))};var z=function(e){return a.a.createElement("button",{onClick:function(){e.emitClicked?e.emitClicked():console.log("emit clicked is null ".concat(e.emitClicked))}},"test")},q=n(8),Q=n.n(q);var Y=function(e){var t=function(){var t=e.hour;return t>4&&t<=12?12.5*(t-4):t>12&&t<20?12.5*(20-t):0},n=(t=t())/2+40;return a.a.createElement("div",{className:Q.a.container},a.a.createElement("button",{className:Q.a.sun,style:{height:n,width:n}},t,"%"))},Z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={colours:["#f6b73c","#f6b73c","#f6b73c","#f6b73c","#f6b73c","#f6b73c"],is_on:[!1,!1,!1,!1,!1,!1],intensity:[100,100,100,100,100,100],themes:[],theme_input_name:"Off",current_theme:null,schedule:[],scheduleStart:null,scheduleEnd:null,currentHour:0,currentMin:0},n}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("state");if(t){var n=JSON.parse(t),i=n.themes,a=n.schedule;this.setState({themes:i,schedule:a,theme_input_name:"Enter name here"})}else{var s=Object(l.a)(this.state.themes);Object(l.a)(this.state.theme_input_name);s.push(this.addTheme()),s.push(this.addTheme("Default",[!0,!0,!0,!0,!0,!0],this.state.colours,this.state.intensity)),"Enter name here";for(var c=[],o=0;o<24;o++){for(var r=[],u=0;u<60;u++){r.push(0)}c.push(r)}this.setState({themes:s,theme_input_name:"Enter name here",schedule:c},(function(){return e.setLocalStorage()}))}}},{key:"renderLight",value:function(e){var t=this;return a.a.createElement("div",{className:N.a.light},a.a.createElement(C,{colour:this.state.colours[e],is_on:this.state.is_on[e],intensity:this.state.intensity[e],emitClicked:function(){t.slotClicked(e)}}))}},{key:"renderLightSelectBox",value:function(e){var t=this;return a.a.createElement(K,{id:e,is_on:this.state.is_on[e],color:this.state.colours[e],intensity:this.state.intensity[e],switchSlotClicked:function(){t.slotClicked(e)},colorSlotChanged:function(n){t.slotChanged(n,e)},intensitySlotChanged:function(n){t.sliderSlotChanged(n,e)}})}},{key:"renderThemes",value:function(){var e=this;return a.a.createElement(p,{themes:this.state.themes,emitChanged:function(t){e.themeSlotChanged(t)},emitClicked:function(t){e.themeSlotClicked(t)},startEmitChanged:function(t){e.scheduleStartSlotChanged(t)},endEmitChanged:function(t){e.scheduleEndSlotChanged(t)},scheduleEmitClicked:function(t){e.scheduleSlotClicked(t)}})}},{key:"RenderThemeInput",value:function(){var e=this;return a.a.createElement(b,{input:this.state.theme_input_name,emitClicked:function(t,n){e.themeSelectSlotClicked(t,n)},emitChanged:function(t){e.themeSelectSlotChanged(t)}})}},{key:"renderSimulate",value:function(){var e=this;return a.a.createElement(z,{emitClicked:function(t){e.simulateSlotClicked(t)}})}},{key:"renderClock",value:function(){return a.a.createElement(O,{hour:this.state.currentHour,min:this.state.currentMin})}},{key:"renderSun",value:function(){return a.a.createElement(Y,{hour:this.state.currentHour})}},{key:"slotClicked",value:function(e){var t=Object(l.a)(this.state.is_on);t[e]=!t[e],this.setState({is_on:t});var n=JSON.stringify(this.state);localStorage.setItem("state",n)}},{key:"slotChanged",value:function(e,t){var n=Object(l.a)(this.state.colours);n[t]=e.target.value,this.setState({colours:n})}},{key:"sliderSlotChanged",value:function(e,t){var n=Object(l.a)(this.state.intensity);n[t]=e.target.value,this.setState({intensity:n})}},{key:"themeSlotChanged",value:function(e){var t=this,n=[this.state.themes[e.target.value]];n=JSON.parse(n);var i=Object(l.a)(this.state.is_on),a=Object(l.a)(this.state.intensity),s=Object(l.a)(this.state.colours);i=n[1],s=n[2],a=n[3],this.setState({is_on:i,intensity:a,colours:s,current_theme:e.target.value},(function(){return t.setLocalStorage()}))}},{key:"themeSlotClicked",value:function(e){var t=this;if(this.state.current_theme){var n=Object(l.a)(this.state.themes);n.splice(this.state.current_theme,1),this.setState({themes:n},(function(){return t.setLocalStorage()}))}else console.log("this.state.current_theme is null ".concat(this.state.current_theme))}},{key:"scheduleStartSlotChanged",value:function(e){var t=e.target.value;this.setState({scheduleStart:t})}},{key:"scheduleEndSlotChanged",value:function(e){var t=e.target.value;console.log(e.target.value),this.setState({scheduleEnd:t})}},{key:"scheduleSlotClicked",value:function(e){var t=this;if(!this.state.scheduleStart||!this.state.scheduleEnd)return console.log("scheduleStart or scheduleEnd is null: ".concat(this.state.scheduleStart,", ").concat(this.state.scheduleEnd)),void alert("You must select a scheduled start and end time for your theme");for(var n=parseInt(this.state.scheduleStart.split(":")[0],10),i=parseInt(this.state.scheduleStart.split(":")[1],10),a=parseInt(this.state.scheduleEnd.split(":")[0],10),s=parseInt(this.state.scheduleEnd.split(":")[1],10),c=Object(l.a)(this.state.schedule),o=n;o<=n+24;o++%24)for(var r=i;r<60;r++){if(o===a&&r===s)return void this.setState({schedule:c},(function(){return t.setLocalStorage()}));c[o][r]=this.state.current_theme}}},{key:"themeSelectSlotClicked",value:function(e){this.setThemes(e)}},{key:"simulateSlotClicked",value:function(e){var t=this,n=0,i=setInterval((function(){return t.test(++n,i)}),5)}},{key:"test",value:function(e,t){var n=this,i=parseInt(e/60%24),a=e%60,s=this.state.schedule[i][a];0===i&&0===a&&clearInterval(t);var c=this.state.themes[s];c=JSON.parse(c);var o=Object(l.a)(this.state.is_on),r=Object(l.a)(this.state.intensity),u=Object(l.a)(this.state.colours);o=c[1],u=c[2],r=c[3],this.setState({currentHour:i,currentMin:a,is_on:o,intensity:r,colours:u,current_theme:s},(function(){return n.setLocalStorage()}))}},{key:"simulate",value:function(){var e=this,t=new Date,n=this.state.schedule[t.getHours][t.getMinutes],i=this.state.themes[n];i=JSON.parse(i);var a=Object(l.a)(this.state.is_on),s=Object(l.a)(this.state.intensity),c=Object(l.a)(this.state.colours);a=i[1],c=i[2],s=i[3],this.setState({currentHour:t.getHours,currentMin:t.getMinutes,is_on:a,intensity:s,colours:c,current_theme:n},(function(){return e.setLocalStorage()}))}},{key:"addTheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.a)(this.state.theme_input_name),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(this.state.is_on),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(l.a)(this.state.colours),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(l.a)(this.state.intensity),a=[],s=n,c=t,o=i,r=e;a.push(r),a.push(c),a.push(s),a.push(o);var u=JSON.stringify(a);return u}},{key:"setThemes",value:function(e,t){var n=this,i=Object(l.a)(this.state.themes);i.push(this.addTheme()),console.log(this.state.theme_input_name),this.setState({themes:i},(function(){return n.setLocalStorage()}))}},{key:"themeSelectSlotChanged",value:function(e){var t=e.target.value;this.setState({theme_input_name:t})}},{key:"setLocalStorage",value:function(){var e=JSON.stringify(this.state);localStorage.setItem("state",e)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:N.a.lightContainer},this.renderLight(0),this.renderLight(1),this.renderLight(2),this.renderLight(3),this.renderLight(4),this.renderLight(5)),a.a.createElement("div",{className:N.a.selectionContainer},this.renderLightSelectBox(0),this.renderLightSelectBox(1),this.renderLightSelectBox(2),this.renderLightSelectBox(3),this.renderLightSelectBox(4),this.renderLightSelectBox(5)),this.RenderThemeInput(),a.a.createElement("div",{className:N.a.sunThemeContainer},this.renderThemes(),this.renderSun()),this.renderClock(),this.renderSimulate())}}]),t}(a.a.Component);c.a.render(a.a.createElement(Z,null),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.dc88c5df.chunk.js.map